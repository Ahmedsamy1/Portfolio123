import"../chunks/NZTpNUN0.js";import{i as E}from"../chunks/CCgGZFNc.js";import{o as A}from"../chunks/DK5LjxV9.js";import{p as D,l as w,a as I,m as L,v as B}from"../chunks/CHlgO7NY.js";var C=w('<link rel="stylesheet" type="text/css" href="https://code.highcharts.com/css/stocktools/gui.css"/> <link rel="stylesheet" type="text/css" href="https://code.highcharts.com/css/annotations/popup.css"/> <div class="top-bar svelte-1h63a4l"><form id="ticker-form" class="svelte-1h63a4l"><label for="ticker-input" class="svelte-1h63a4l">Enter ticker:</label> <input type="text" id="ticker-input" placeholder="e.g. ibm" required class="svelte-1h63a4l"/> <button type="submit" class="svelte-1h63a4l">Load</button></form> <div class="sma-buttons svelte-1h63a4l"><button id="toggle-sma-9-btn" class="sma-button svelte-1h63a4l">Toggle SMA 9</button> <button id="toggle-sma-14-btn" class="sma-button svelte-1h63a4l">Toggle SMA 14</button> <button id="toggle-sma-50-btn" class="sma-button svelte-1h63a4l">Toggle SMA 50</button> <button id="toggle-sma-100-btn" class="sma-button svelte-1h63a4l">Toggle SMA 100</button></div></div> <div id="container" class="chart svelte-1h63a4l"></div>',1);function T(r,p){D(p,!1);let c;const a={9:!1,14:!1,50:!1,100:!1},f=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/indicators/indicators-all.js","https://code.highcharts.com/stock/modules/drag-panes.js","https://code.highcharts.com/modules/annotations-advanced.js","https://code.highcharts.com/modules/price-indicator.js","https://code.highcharts.com/modules/full-screen.js","https://code.highcharts.com/modules/stock-tools.js","https://code.highcharts.com/stock/modules/heikinashi.js","https://code.highcharts.com/stock/modules/hollowcandlestick.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/connectors/morningstar/connectors-morningstar.js","https://code.highcharts.com/themes/adaptive.js"];function b(t){return new Promise((e,s)=>{if(document.querySelector(`script[src="${t}"]`)){e();return}const o=document.createElement("script");o.src=t,o.async=!1,o.onload=e,o.onerror=s,document.body.appendChild(o)})}function v(t=500){const e=[],s=[];let h=Date.now()-t*864e5,u=100,g=Math.random()<.5?-1:1;for(let d=0;d<t;d++){const y=Math.random()*5+1,i=u,M=(Math.random()-.5+.1*g)*y,l=i+M,x=Math.max(i,l)+Math.random()*2,S=Math.min(i,l)-Math.random()*2,j=Math.floor(Math.random()*9e3+1e3);e.push([h,+i.toFixed(2),+x.toFixed(2),+S.toFixed(2),+l.toFixed(2)]),s.push([h,j]),u=l,h+=864e5,d%30===0&&(g*=-1)}return{ohlc:e,volumeData:s}}function m(t){const{ohlc:e,volumeData:s}=v();Object.keys(a).forEach(o=>a[o]=!1),c=window.Highcharts.stockChart("container",{title:{text:`Stock Chart: ${t}`},yAxis:[{labels:{align:"left"},height:"80%",resize:{enabled:!0}},{labels:{align:"left"},top:"80%",height:"20%",offset:0}],rangeSelector:{selected:2},tooltip:{shape:"square",headerShape:"callout",borderWidth:0,shadow:!1,fixed:!0},series:[{type:"candlestick",id:"price-series",name:`${t} Price`,data:e},{type:"column",name:`${t} Volume`,data:s,yAxis:1}]})}function n(t){if(!c)return;const e=`sma-${t}`;if(!a[t])c.addSeries({type:"sma",linkedTo:"price-series",params:{period:t},id:e,name:`SMA ${t}`});else{const s=c.get(e);s&&s.remove()}a[t]=!a[t]}A(async()=>{for(const t of f)await b(t);document.getElementById("ticker-form").addEventListener("submit",function(t){t.preventDefault();const e=document.getElementById("ticker-input").value.trim();e&&m(e)}),document.getElementById("toggle-sma-9-btn").addEventListener("click",()=>n(9)),document.getElementById("toggle-sma-14-btn").addEventListener("click",()=>n(14)),document.getElementById("toggle-sma-50-btn").addEventListener("click",()=>n(50)),document.getElementById("toggle-sma-100-btn").addEventListener("click",()=>n(100)),m("NVIDIA")}),E();var k=C();B(6),I(r,k),L()}function O(r){T(r,{})}export{O as component};
